from Coding1 import Forest
from tkinter import *
import tkinter as tk
from tkinter import ttk

root = tk.Tk()
container = ttk.Frame(root)
canvas = tk.Canvas(container)
scrollbar = ttk.Scrollbar(container, orient="vertical", command=canvas.yview)
scrollable_frame = ttk.Frame(canvas)


scrollable_frame.bind(
    "<Configure>",
    lambda e: canvas.configure(
        scrollregion=canvas.bbox("all"), 
        width = 900, height = 900
    )
)

canvas.create_window((0, 0), window=scrollable_frame, anchor="nw")

canvas.configure(yscrollcommand=scrollbar.set)


root.geometry('1000x1000')


def begining_story():
  L1 = Label(scrollable_frame, text="Welcome adventurer, what is your name? Enter your Name:")
  L1.pack()
  name = Entry(scrollable_frame,width=10)
  name.pack()
  def clicked1():
    res = Label(scrollable_frame, text="Hello " + name.get() + ". Welcome to a world full of wonders, such as wizardry, combat, and treasure.")
    res.pack()
    basics = Label(scrollable_frame, text="""To move, type “n” or “north” to go in the northern direction "s” to go in the southern direction, “e” to go east, and “w” to go west.
                                     You can also go up or down, if the situation suits those commands. 
                                     "Look" will give you a description of the area.  
                                     Type "help" to find a list of commands and actions.

You awake in a medieval tavern. The fireplace crackles in the background, and the air smells of beer and meat.
      Your head hurts badly and your vision is blurred.

                                     """)
    basics.pack()
    tavern_floor()
  btn = Button(scrollable_frame, text="Save", command=clicked1)
  btn.pack()

  
def tavern_floor():
  tavern = Label(scrollable_frame, text="""You stand in the tavern.
                 What would you like to do. Type help if you have no clue whats going on.""")
  tavern.pack()
  Begining = Entry(scrollable_frame,width=10)
  Begining.pack()
  begining = {"north": north1, "west": west1, "east": east1, "south": south1, "look": look1, "help": help1}
  def check():
    if str(Begining.get()) in begining.keys():
      begining[str(Begining.get())]()
    else:
      tavern_floor()
  btn1 = Button(scrollable_frame, text="Action", command=check)
  btn1.pack()

  
  

def help1():
  hep = Label(scrollable_frame, text = """

  To move, type “north” to go in the northern direction "south” to go in the southern direction,
  “east” to go east, and “west” to go west.
  You can also go up or down, if the situation suits those commands. 
  "Look" will give you a description of the area. "Pick up" will put an object into your inventory, which has a limited capacity. 

  """)
  hep.pack()
  tavern_floor()


def look1():
  look = Label(scrollable_frame, text = """

  To your west is a young girl crying in the corner 
    A door is to your east, and the is a bar to your north with a bartender behind it
  A lastly a fireplace crackles to the south.
     """)
  look.pack()
  tavern_floor()

  
def north1():
  bartender = Label(scrollable_frame, text = """Good evening to you weary adventurer, here’s to a quiet night after a long day, eh? What’ll it be?
                                          Honey Mead - 1gp
                                          Stiffler Amber Ale - 2gp
                                          Bubbling Cider - 4gp
                                          Wine - 8gp
                                          Flee: """)
  bartender.pack()
  first_question = Entry(scrollable_frame,width=10)
  first_question.pack()
  def clicked2():
    if first_question.get().lower() == "honey mead":
      money = Label(scrollable_frame, text = "You have no money sorry.")
      money.pack()
      north1()
    elif first_question.get().lower() == "stiffler amber ale":
      money1 = Label(scrollable_frame, text = "You have no money sorry.")
      money1.pack()
      north1()
    elif first_question.get().lower == "bubbling cider":
      money2 = Label(scrollable_frame, text = "You have no money sorry.")
      money2.pack()
      north1()
    elif first_question.get().lower() == "wine":
      money3 = Label(scrollable_frame, text = "You have no money sorry.")
      money3.pack()
      north1()
    elif first_question.get().lower == "flee":
      tavern_floor()
    else:
      dwarf = Label(scrollable_frame, text = "You dwarf, speak clearly.")
      north1()
      
  btn = Button(scrollable_frame, text="Ask", command=clicked2)
  btn.pack()
  

      
def west1():
  global questcounter
  girl = Label(scrollable_frame, text = """A young girl asks 'Are you here to help me?'
                                           yes/no: """)
  girl_question = Entry(scrollable_frame,width=10)
  girl_question.pack()
  btn = Button(scrollable_frame, text="Check", command=clicked3)
  btn.pack()
  def clicked3():
    if girl_question.get().lower() == "yes":
      thank = Label(scrollable_frame, text = "Thank the Dragon lord somebody is here to help! I have lost my magical box, help me find it.")
      thank.pack()
      if questcounter == 0:
        questcounter += 1
        thank_you = Label(scrollable_frame, text = 'Thank you for accepting my quest')
        thank_you.pack()
        tavern_floor()
      else:
        wait = Label(scrollable_frame, text = "Wait you here before?")
        wait.pack()
        tavern_floor()
    elif girl_question.get().lower() == "no":
      tavern_floor()
    else:
      tavern_floor()

    
def east1():
  if questcounter == 1:
      door = LAbel(scrollable_frame, text = "To the east is a door, wich you walk through")
      door.pack()
      next_story()
  else:
      door2 = Label(scrollable_frame, text = "You see a door but youre not strong enough yet please come back later.")
      door2.pack()
      tavern_floor()

      
def south1():
    fireplace = Label(scrollable_frame, text = "A fireplace roars in front of you. You reach out to touch it and get burned.")
    fireplace.pack()
    tavern_floor()



def next_story():
    outside = Label(scrollable_frame, text = """You step outside

          """)
    outside.pack()
    Forest()





questcounter = 0


begining_story()

container.pack()
canvas.pack(side="left", fill="both", expand=True)
scrollbar.pack(side="right", fill="y")

root.mainloop()
